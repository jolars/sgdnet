<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title><em>k</em>-fold Cross Validation for <strong>sgdnet</strong> — cv_sgdnet • sgdnet</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="<em>k</em>-fold Cross Validation for <strong>sgdnet</strong> — cv_sgdnet" />

<meta property="og:description" content="This function performs model validation by k-fold cross validation for
models fit with sgdnet() over the entire regularization path and/or
various elastic net penalties." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sgdnet</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/algorithm.html">Technical Documentation</a>
    </li>
    <li>
      <a href="../articles/benchmarks.html">Benchmarks</a>
    </li>
    <li>
      <a href="../articles/cross-validation.html">Cross-Validation in sgdnet</a>
    </li>
    <li>
      <a href="../articles/introduction.html">An Introduction to sgdnet</a>
    </li>
    <li>
      <a href="../articles/models.html">Model Families in sgdnet</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jolars/sgdnet">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1><em>k</em>-fold Cross Validation for <strong>sgdnet</strong></h1>
    <small class="dont-index">Source: <a href='https://github.com/jolars/sgdnet/blob/master/R/cv_sgdnet.R'><code>R/cv_sgdnet.R</code></a></small>
    <div class="hidden name"><code>cv_sgdnet.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function performs model validation by <em>k</em>-fold cross validation for
models fit with <code><a href='sgdnet.html'>sgdnet()</a></code> over the entire regularization path and/or
various elastic net penalties.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cv_sgdnet</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>foldid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>type.measure</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"deviance"</span>, <span class='st'>"mse"</span>, <span class='st'>"mae"</span>, <span class='st'>"class"</span>,
  <span class='st'>"auc"</span>), <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>input matrix</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>response variable</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>elastic net mixing parameter; vectors of values are allowed
(unlike in <code><a href='sgdnet.html'>sgdnet()</a></code>)</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>regularization strength</p></td>
    </tr>
    <tr>
      <th>nfolds</th>
      <td><p>number of folds (<em>k</em>) -- 3 is the minimum allowed</p></td>
    </tr>
    <tr>
      <th>foldid</th>
      <td><p>a vector of fold identities of the same length as the
number of observations</p></td>
    </tr>
    <tr>
      <th>type.measure</th>
      <td><p>the type of error, one of ("deviance" (default),
"mse" (mean-squared error), "mae" (mean absolute error), "class"
(misclassification rate), "auc" (area under the curve)); see <strong>Measures</strong>
to find out what types each family has available.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed on to <code><a href='sgdnet.html'>sgdnet()</a></code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>'cv_sgdnet'</code> with the following items:</p>
<dt><code>alpha</code></dt><dd><p>the elastic net mixing parameter used</p></dd>
<dt><code>lambda</code></dt><dd><p>a list of lambda values of the same length as <code>alpha</code></p></dd>
<dt><code>cv_summary</code></dt><dd><p>a <code>data.frame</code> summarizing the prediction error across
the regularization path with columns <code>alpha</code>, <code>lambda</code>,
<code>mean</code>, <code>sd</code>, <code>ci_lo</code>, <code>ci_up</code></p></dd>
<dt><code>cv_raw</code></dt><dd><p>the raw cross-validation scores as a list of the
same length as <code>alpha</code>, each item a <code>matrix</code> with
the error for each fold as a row and each value of
<code>lambda</code> in columns.</p></dd>
<dt><code>name</code></dt><dd><p>the type of prediction error used</p></dd>
<dt><code>fit</code></dt><dd><p>a fit from <code><a href='sgdnet.html'>sgdnet()</a></code> to the full data set based on the
<code>alpha</code> with the best cross-validation score</p></dd>
<dt><code>alpha_min</code></dt><dd><p>the <code>alpha</code> corresponding to the fit with the best
cross-validation performance</p></dd>
<dt><code>lambda_min</code></dt><dd><p>the <code>lambda</code> corresponding to the fit with the best
cross-validation performance</p></dd>
<dt><code>lambda_1se</code></dt><dd><p>the largest <code>lambda</code> with a cross-validation performance
within one standard deviation of the one
coresponding to <code>lambda_min</code></p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The primary usage of this model is to tune for values of <code>lambda</code> and
<code>alpha</code>. This function will randomly divide the
data into \(k\) folds. For each fold, the remaining \(k-1\) will
be used to train a model across a regularization path, and optionally a
range of <code>alpha</code>. The fold that is left out
is then used to measure the performance of the model. We proceed across
all the folds, which means that each observation is used exactly once for
validation, and finally average our results across all the folds.</p>
    
    <h2 class="hasAnchor" id="measures"><a class="anchor" href="#measures"></a>Measures</h2>

    
    <table class='table'>
<tr><td>Family</td><td><code>deviance</code></td><td><code>mse</code></td><td><code>mae</code></td><td><code>class</code></td><td><code>auc</code></td></tr>
<tr><td><code>gaussian</code></td><td>x (<code>mse</code>)</td><td>x</td><td>x</td><td></td><td></td></tr>
<tr><td><code>binomial</code></td><td>x</td><td>x</td><td>x</td><td>x</td><td>x</td></tr>
<tr><td><code>multinomial</code></td><td>x</td><td>x</td><td>x</td><td>x</td><td></td></tr>
<tr><td><code>mgaussian</code></td><td>x (<code>mse</code>)</td><td>x</td><td>x</td><td></td><td></td></tr>
</table>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='sgdnet.html'>sgdnet()</a></code>, <code><a href='predict.cv_sgdnet.html'>predict.cv_sgdnet()</a></code>, <code><a href='plot.cv_sgdnet.html'>plot.cv_sgdnet()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>set.seed</span>(<span class='fl'>1</span>)
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fu'>nrow</span>(<span class='no'>heart</span>$<span class='no'>x</span>)
<span class='no'>train_ind</span> <span class='kw'>&lt;-</span> <span class='fu'>sample</span>(<span class='no'>n</span>, <span class='fu'>floor</span>(<span class='fl'>0.8</span>*<span class='no'>n</span>))
<span class='no'>cv_fit</span> <span class='kw'>&lt;-</span> <span class='fu'>cv_sgdnet</span>(<span class='no'>heart</span>$<span class='no'>x</span>[<span class='no'>train_ind</span>, ],
                    <span class='no'>heart</span>$<span class='no'>y</span>[<span class='no'>train_ind</span>],
                    <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>,
                    <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fl'>7</span>,
                    <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0</span>, <span class='fl'>1</span>))
<span class='fu'>plot</span>(<span class='no'>cv_fit</span>)</div><div class='img'><img src='cv_sgdnet-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>predict</span>(<span class='no'>cv_fit</span>, <span class='no'>heart</span>$<span class='no'>x</span>[-<span class='no'>train_ind</span>, ], <span class='kw'>s</span> <span class='kw'>=</span> <span class='st'>"lambda_min"</span>)</div><div class='output co'>#&gt;                   1
#&gt;  [1,]  2.2479151094
#&gt;  [2,]  0.7593811964
#&gt;  [3,]  2.8425768431
#&gt;  [4,]  0.3016274228
#&gt;  [5,] -1.0478586288
#&gt;  [6,] -0.4930121447
#&gt;  [7,] -1.0112056031
#&gt;  [8,] -2.0438146846
#&gt;  [9,]  0.4794537796
#&gt; [10,] -1.6029854978
#&gt; [11,] -0.8969722629
#&gt; [12,] -2.1600605091
#&gt; [13,] -1.7950100750
#&gt; [14,] -0.5454289534
#&gt; [15,] -1.3613984254
#&gt; [16,]  1.8067059574
#&gt; [17,]  1.0289516676
#&gt; [18,] -2.4115449964
#&gt; [19,] -2.4756154088
#&gt; [20,]  0.2560747404
#&gt; [21,] -0.9413765761
#&gt; [22,]  0.5367303978
#&gt; [23,]  0.8454294603
#&gt; [24,]  1.8100445098
#&gt; [25,]  1.4801452214
#&gt; [26,] -1.2988129651
#&gt; [27,]  1.4447150750
#&gt; [28,]  0.2350535311
#&gt; [29,] -2.2792424338
#&gt; [30,] -0.3926007879
#&gt; [31,]  2.2330440056
#&gt; [32,]  1.0043655231
#&gt; [33,] -1.0269839455
#&gt; [34,] -3.1038602363
#&gt; [35,] -0.2653698946
#&gt; [36,] -0.0898137460
#&gt; [37,]  2.6513764515
#&gt; [38,] -1.2904468004
#&gt; [39,] -2.5927985200
#&gt; [40,] -1.9642630951
#&gt; [41,] -2.0561972698
#&gt; [42,]  0.1131268262
#&gt; [43,] -0.5206853245
#&gt; [44,]  0.0009660336
#&gt; [45,]  1.5330710823
#&gt; [46,] -1.6903915882
#&gt; [47,] -0.2803607537
#&gt; [48,]  2.0422279700
#&gt; [49,] -2.3088705315
#&gt; [50,]  1.5874126736
#&gt; [51,] -1.7483501348
#&gt; [52,]  0.9028309555
#&gt; [53,] -1.0605165706
#&gt; [54,] -0.4990009104</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#measures">Measures</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Johan Larsson (partly consisting of modified code from
<code><a href='http://www.rdocumentation.org/packages/glmnet/topics/cv.glmnet'>glmnet::cv.glmnet()</a></code> by Jerome Friedman, Trevor Hastie, Rob Tibshirani,
and Noah Simon)

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Johan Larsson, Toby Dylan Hocking, Michael Weylandt.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

