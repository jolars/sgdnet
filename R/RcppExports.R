# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Rescale weights and intercept before returning these to user
#'
#' Currently no processing, and therefore no rescaling, is done
#' when the intercept is fit. If x is sparse.
#'
#' @param weights weights
#' @param intercept intercept
#' @param x_center the offset (mean) used to possibly have centered x
#' @param x_scale the scaling that was applied to x
#' @param y_center the offset (mean) that y was offset with
#' @param n_features the number of features
#' @param fit_intercept whether to fit the intercept
#' @param is_sparse whether the features are sparse
#'
#' @return `weights` and `intercept` are rescaled.
NULL

#' Adapative transposing of feature matrix
#'
#' For sparse matrices, armadillo does not (yet?) have a inplace
#' transpose method, so we overload for sparse and dense matrices,
#' transposing inplace when x is dense.
#'
#' @param x a sparse or dense matrix
#'
#' @return x transposed.
#'
#' @keywords internal
#' @noRd
NULL

#' Fit a Model with sgdnet
#'
#' @param x feature matrix
#' @param y response matrix
#' @param family_in the response type
#' @param is_sparse is x sparse?
#' @param alpha l2-regularization penalty
#' @param beta l1-regularization penalty
#' @param normalize should x be normalized before fitting the model?
#' @param max_iter the maximum number of iterations
#' @param tol tolerance for convergence. The algorithm terminates when
#'   max(change in weights)/max(weights) < tol.
#'
#' @return A list of
#'   * ao: the intercept
#'   * beta: the weights
#'   * losses: the loss at each outer iteration
#'   * nseen: the number of samples seen
#'   * npasses: the number of effective passes (epochs)
#'   * return_code: the convergence result. 0 mean that the algorithm converged,
#'     1 means that `max_iter` was reached before the algorithm converged.
#'
#' @keywords internal
SgdnetCpp <- function(x_in, y, control) {
    .Call(`_sgdnet_SgdnetCpp`, x_in, y, control)
}

